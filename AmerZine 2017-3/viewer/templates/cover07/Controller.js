function Cover07Controller(){var a,b,c,d,e=!1,f=0,g=0,h=0,i={TEXT:0,IMAGE:1,HIGHLIGHT:2},j=function(a){return a%2==0},k=function(){for(var c=0;c<b.getRowLength();c++){var d=b.getRow(c),e=d.getView(),f=d.getData(),g=$(".im-tp-c7-h-wrapper",e),h=g.find(".paragraph");if(Magazine.device.isIE9&&($(".layout-0.alignment-right, .im-row-container",a.container).css("margin-right","45px"),$(".im-row-container",a.container).css("padding-right","0px")),f.layout_type===i.HIGHLIGHT&&f.highlight.length>0)switch(g.each(function(){$(this).children().find(".im-media").length<=0&&$(this).children().find(".im-tp-c7-highlight-paragraph-container").css("margin-left","0px").css("text-align","center"),Magazine.device.isIE9&&$(this).css("margin-right","45px")}),f.position){case"spread-full":g.addClass("full"),g.css({width:Math.floor(100/f.highlight.length)-f.highlight.length+"%",marginLeft:"1%"}),h.css("text-align","center");break;case"spread":g.css({width:Math.floor(100/f.highlight.length)-f.highlight.length+"%",marginLeft:"1%"}),h.css("text-align","center");break;case"left":h.css("text-align","left");break;case"center":h.css("text-align","center");break;case"right":h.css("text-align","right"),g.find(".b-border").css("border-right","2px solid").css("border-left","0px solid");break;case"opposite":g.each(function(a){j(a)?($($(this)).css({float:"left",marginLeft:"30px",marginRight:"0px"}),$(this).find(".paragraph").css("text-align","left")):($($(this)).css({float:"right",marginLeft:"0px",marginRight:"30px"}),$(this).find(".paragraph").css("text-align","right"))})}else f.layout_type===i.IMAGE&&null!==f.image&&void 0!==f.image&&m(e,Config.magazine_url+d.getData().image.uri,f.image.height)}},l=function(){for(var a=0;a<b.getRowLength();a++){var c=b.getRow(a),d=c.getView(),f=c.getData(),g=$(".im-tp-c7-h-wrapper",d);f.layout_type===i.IMAGE&&null!==f.alt&&void 0!==f.alt&&m(d,Config.magazine_url+f.alt.uri,f.alt.height),"opposite"!==f.position?g.each(function(){$(this).children().find(".im-media").length<=0&&!0===e&&$(this).children().find(".im-tp-c7-highlight-paragraph-container").css("margin-left","35%")}):g.each(function(){$(this).css({marginLeft:"0px",marginRight:"0px"})}),"spread-full"===f.position?(g.addClass("full"),g.css({width:"",marginLeft:""})):"spread"===f.position&&g.css({width:"",marginLeft:""}),g.find(".paragraph").css("text-align","left"),g.find(".b-border").css("border-right","0px solid").css("border-left","2px solid")}},m=function(a,b,c){a.find(".im-media-image").css({backgroundImage:"url("+b+")",height:c+"px"}),a.find(".im-media-image").parent().css("height",c+"px")};this.init=function(b){a=b},this.willLoadView=function(a){},this.didLoadView=function(){if(null!=c.content.background&&a.getBackground().init([c.content.background]),a.hasBackground&&(a.container.prepend(a.getBackground().render()),a.getBackground().show()),null!==c.content.item){b=(new IMRowContainer).init();for(var e=0;e<c.content.item.length;e++)b.addRow(d,c.content.item[e],{align:c.content.item[e].alignment});a.container.append(b.getView())}a.container.on("mousewheel scroll",function(){b.onScroll()}),a.scanDirectives(),a.container.find(".dynamicForm").each(function(){new DynamicForm(null,$(this))}),Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE?k():l();var f=a.container.find(".im-row-container");f.length>0&&f.bind("touchmove",function(b){a.onScrollHandler(-1*f.children("div").first().offset().top)})},this.onLoad=function(b){Loader.loadFiles([Config.templatePathView+a.template+"/_row.html"],function(a){d=Hogan.compile(a[0].response),b()})},this.didLoad=function(a){c=a},this.didAppear=function(){var b=.5*(Magazine.device.screen.height-h);Magazine.device.screen.height>=h&&f==c.content.item.length&&1==c.content.check?$(".im-block",a.container).css("margin-top",b+"px"):Magazine.device.screen.height>=h&&g==c.content.item.length&&1==c.content.check&&$(".im-block",a.container).css("margin-bottom",b+"px")},this.willAppear=function(){var a=this;setTimeout(function(){a.onResizeHandler(Magazine.device)},500)},this.onResizeHandler=function(a){if(void 0!==b&&b.onResizeHandler(a),null!==c.content.item)for(var d=0;d<b.getRowLength();d++){var e=b.getRow(d),f=e.getView(),g=e.getData();if(1==c.content.check&&(h+=f.height()),g.layout_type===i.HIGHLIGHT&&null!==g.highlight){var j=f.find(".im-tp-c7-highlight-container .paragraph").map(function(){return this.clientHeight}).get(),k=Math.max.apply(null,j);f.find(".im-tp-c7-highlight-container").height(k)}}},this.render=function(a){for(var b=0;b<a.item.length;b++){var c;switch(a.item[b].layout_type){case i.TEXT:c=new StyleModel(a.item[b].style_text);break;default:c=new StyleModel(a.item[b].style_high)}if(a.item[b].background_style=c.get("background"),a.item[b].title_style=c.get(["title","title_background"]),a.item[b].subtitle_style=c.get(["subtitle","subtitle_background"]),a.item[b].paragraph_style=c.get(["paragraph","paragraph_background"]),a.item[b].m_background_style=c.get("m_background"),a.item[b].m_title_style=c.get(["m_title","m_title_background"]),a.item[b].m_subtitle_style=c.get(["m_subtitle","m_subtitle_background"]),a.item[b].m_paragraph_style=c.get(["m_paragraph","m_paragraph_background"]),"top"===a.item[b].alignment?(f++,g--):(f--,g++),void 0!==a.item[b].highlight)for(var d=0;d<a.item[b].highlight.length;d++){null!==a.item[b].highlight[d].image&&(e=!0),a.item[b].highlight[d].action=new ActionModel(a.item[b].highlight[d].action);var h=new StyleModel(a.item[b].highlight[d].style);a.item[b].highlight[d].h_background_style=h.get("background"),a.item[b].highlight[d].h_title_style=h.get(["title","title_background"]),a.item[b].highlight[d].h_subtitle_style=h.get(["subtitle","subtitle_background"]),a.item[b].highlight[d].h_border_style=h.get("border"),a.item[b].highlight[d].m_h_background_style=h.get("m_background"),a.item[b].highlight[d].m_h_title_style=h.get(["m_title","m_title_background"]),a.item[b].highlight[d].m_h_subtitle_style=h.get(["m_subtitle","m_subtitle_background"]),a.item[b].highlight[d].m_h_border_style=h.get("m_border")}}},this.onSwitchSize=function(a,b){a.size>DeviceSize.MOBILE_LANDSCAPE&&b<=DeviceSize.MOBILE_LANDSCAPE?k():a.size<=DeviceSize.MOBILE_LANDSCAPE&&b>DeviceSize.MOBILE_LANDSCAPE&&l()},this.onOrientationChange=function(){},this.willDisappear=function(){},this.didDisappear=function(){},this.destroy=function(){}}Loader.loadComplete();