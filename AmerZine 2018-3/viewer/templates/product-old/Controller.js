function ProductController(){function a(){"undefined"!=typeof j.item?b():l===!0&&e()}function b(){if(l=!0,Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE){h.each(function(a){TweenMax.killTweensOf(this)}),c();var a=$("#overlayContainerProduct",g.container);a.html(f()),k.onResizeHandler(Magazine.device),TweenMax.set(a,{css:{display:"block",top:"40%",opacity:0}}),TweenMax.to(a,.5,{css:{opacity:1,top:"50%"},delay:.5,ease:Quad.easeInOut})}else{var b=new SubPage;b.template=Config.templatePathView+g.template+"/Details_product.html",b.data={title:i.content.product[j.item].title,description:i.content.product[j.item].description,image:i.content.product[j.item].image,price:i.content.product[j.item].price,button:i.content.product[j.item].button,actionmodel:i.content.product[j.item].actionmodel},g.pushPage(b)}}function c(){"undefined"!=typeof h&&h.each(function(a){TweenMax.to(this,.5,{css:{opacity:.3},ease:Quad.easeInOut})})}function d(){"undefined"!=typeof h&&h.each(function(a){TweenMax.to(this,.5,{css:{opacity:1},delay:.5,ease:Quad.easeInOut})})}function e(){function a(){TweenMax.set(b,{css:{opacity:0,display:"none",top:"40%"}})}if(l=!1,d(),$("#overlayContainerProduct",g.container).length>0){var b=$("#overlayContainerProduct",g.container)[0];TweenMax.to(b,.5,{css:{opacity:0,top:"60%"},ease:Quad.easeInOut,onComplete:a})}}function f(){var a=i.content.product[j.item];return a.urlbase="#!/"+g.alias,a.imageurl=Config.magazine_url,m.render(a)}var g,h,i=!1,j=null,k=this,l=!1,m=Hogan.compile('<a id="closeBtn2" class="close-button button square-small" href="{{urlbase}}"><span class="im-sp im-sp-times"></span></a><div class="overlayHeader im-ts-subtitle-background"><table><tr><td rowspan="3" style="padding-right: 20px;width:240px;"><img class="overlayImage" {{#image}}src="{{helper(getImageUrl, {image.uri}, null, null, 360, 240, 0)}}"{{/image}}  {{#image.alt}}alt="{{image.alt}}"{{/image.alt}}/></td><td><h4>{{{title}}}</h4></td></tr><tr><td>{{#price}}<span class="price"><h6>{{{price}}}</h6></span>{{/price}}</td></tr><tr><td>{{#button}}<a href="{{actionmodel.href}}" target="{{actionmodel.target}}" onclick="{{actionmodel.onclick}}" class="bestelBtnOverlay button im-ts-button"><span>{{button}}</span></a>{{/button}}</td></tr></table></div><div class="overlayContent text-block"><div class="paragraph">{{{description}}}</div></div>');this.init=function(a){g=a},this.willLoadView=function(a){j=a},this.didLoadView=function(){if(Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE){i.content.background&&(g.getBackground().init([i.content.background]),g.container.prepend(g.getBackground().render()),g.getBackground().show());var a=$("#header",g.container);a.length>0&&TweenMax.set(a[0],{css:{top:"-100",opacity:0}}),h=$(".productItem",g.container),h.each(function(){TweenMax.set(this,{x:-175,opacity:0})}),g.scanDirectives(),$("#closeBtn2",g.container).click(e)}if(Magazine.device.isIE8){var b=$(".bestelBtn",g.container);TweenMax.set(b,{opacity:0})}},this.willLoad=function(){},this.didLoad=function(a){i=a},this.didAppear=function(){if(Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE&&g.isFirstView()){h.each(function(b){if($(this).find(".im-media").height(220-$(this).find(".footer").height()+"px"),b===h.length-1){if(TweenMax.to(this,1,{x:"0",opacity:1,delay:.2*b+.5,ease:Quart.easeOut,onComplete:function(){a(),h.each(function(a){TweenMax.set(this,{x:0,opacity:1}),$(this).find(".im-media").height(220-$(this).find(".footer").height()+"px")})}}),Magazine.device.isIE8){var c=$(".bestelBtn",g.container);TweenMax.to(c,.5,{opacity:1,delay:.2*b+.5,ease:Quad.easeOut})}}else TweenMax.to(this,1,{x:"0",opacity:1,delay:.2*b+.5,ease:Quart.easeOut})});var b=$("#header",g.container);b.length>0&&TweenMax.to(b[0],.5,{css:{top:"0",opacity:1},delay:.5,ease:Quad.easeOut})}else a()},this.willAppear=function(a){j=a},this.onHashChange=function(b){j=b,a()},this.onResizeHandler=function(a){if(Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE)try{$(".alignCenter",g.container).each(function(){var b=$(this),c=b.height();a.screen.height<c?b.css({top:"0px","margin-top":"0px"}):b.css({top:"50%","margin-top":.5*-c})});var b=$("#productContainer",g.container),c=b.offset().top,d=$("#productItems",g.container);a.isIE8||(d.height()+c>Magazine.pages.height?(b.css({height:Magazine.pages.height-c+"px","overflow-y":"scroll","-ms-overflow-y":"scroll","-ms-overflow-style":"-ms-autohiding-scrollbar","-webkit-overflow-scrolling":"touch"}),b.scroll(function(){g.onScrollHandler(c-$("#productItems").offset().top)})):b.css({"overflow-y":"auto","-ms-overflow-y":"auto","-ms-overflow-style":"auto","-webkit-overflow-scrolling":"auto",height:"auto"}))}catch(e){}},this.onOrientationChange=function(){},this.willDisappear=function(){},this.render=function(a){for(var b in a.product)a.product[b].index=b,a.product[b].actionmodel=new ActionModel(a.product[b].buttonlink)},this.didDisappear=function(){},this.destroy=function(){}}Loader.loadComplete();