function Phototext02Controller(){function a(a,c){if(isNumber(a)&&(a=parseInt(a))!==f){$(".items",b.container).children("div").each(function(b){a===b?$(this).show():$(this).hide()}),d.show(a,c),f=a}}var b,c,d,e=!1,f=-1;this.init=function(a){b=a},this.willLoadView=function(a){},this.didLoadView=function(){$("h2",b.container).hasTransparentBackground()&&$("h2",b.container).css({"padding-top":"0px","padding-bottom":"0px"}),d=new Background;var f=[];for(var g in e.content.phototext)null!=e.content.phototext[g].background?f.push(e.content.phototext[g].background):f.length>0?f.push(f[f.length-1]):f.push(null);d.init(f),$("#phototext02",b.container).prepend(d.render()),a(b.params.item||0,!1),c=new NavigationControls,c.init(e.content.phototext.length,e.content.urlbase),$(".im-tp-nav-bar",b.container).append(c.render()),c.setCurrent(b.params.item||0),TweenLite.set($(".im-tp-nav-bar",b.container),{x:-50,opacity:0}),TweenLite.set($(".im-tp-caption",b.container),{y:200,opacity:0,ease:Back.easeOut});var h=new Touch;h.init(b.container,TouchOrientation.VERTICAL),h.animateOut(!1),h.onTouchStart=function(){},h.onVerticalDrag=function(a,b,c){},h.onTouchEnd=function(a,b,d){Math.abs(b)>50&&(d>TouchDirection.DOWN?c.down():c.up())}},this.willLoad=function(){},this.didLoad=function(a){e=a},this.didAppear=function(){if(b.isFirstView){TweenLite.set($(".im-tp-nav-bar",b.container),{opacity:1});var a=new TimelineLite;a.to($(".im-tp-nav-bar",b.container),.7,{x:0,delay:.5,ease:Back.easeOut}),a.to($(".im-tp-caption",b.container),.7,{y:0,opacity:1,ease:Back.easeOut},"-=.7"),a.play()}},this.willAppear=function(a){c.onHashChange(a)},this.onHashChange=function(b){c.onHashChange(b),a(b.item,!0)},this.onOrientationChange=function(){b.didLoadComplete},this.onResizeHandler=function(a){var d=$(".im-tp-caption",b.container);Magazine.pages.height-40<d.height()?d.css({position:"relative"}):d.css({position:"absolute"}),a.size>DeviceSize.MOBILE_LANDSCAPE?c.getContainer().css({top:"50%","margin-top":.5*-(100+20*c.count)}):c.getContainer().css({top:"","margin-top":""})},this.willDisappear=function(){},this.didDisappear=function(){},this.destroy=function(){}}Loader.loadComplete();