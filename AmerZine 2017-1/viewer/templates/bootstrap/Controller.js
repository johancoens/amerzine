function BootstrapController(){function a(){var a=d.scrollTop(),e=b(),j=100/(e/a);Math.floor(j/25)!=i&&(i=Math.floor(j/25),Magazine.tracker.trackEvent("Scroll",a>h?"Down":"Up",25*i+"%")),null!==g&&g.onScroll(a,a+Magazine.pages.height,d[0].scrollHeight),Magazine.device.size<=DeviceSize.MOBILE_LANDSCAPE&&(0===a&&2===c.controller.showButton||0!==a&&2===c.controller.showButton),h=a;for(var k in f)$.isFunction(f[k].onScroll)&&f[k].onScroll(d.scrollTop());c.onScrollHandler(a)}function b(){return"undefined"!=typeof d?Math.max(0,d[0].scrollHeight-Magazine.pages.height):0}var c,d,e,f=[],g=null,h=0,i=0,j={0:"circle",1:"arrows",2:"",3:"bars",4:"circle"},k=function(){return e.content.navigationLabel};this.init=function(a){c=a},this.willLoadView=function(a){},this.showButton=1,this.didLoadView=function(){var b=this;d=c.container.find("#bootstrap"),(Magazine.device.browser===DeviceBrowser.IE||Magazine.device.OS===DeviceOS.WINDOWS&&Magazine.device.browser===DeviceBrowser.FIREFOX)&&d.addClass("ie");for(var h in f)d.append(f[h].render()),$.isFunction(f[h].afterRendering)&&f[h].afterRendering();d.on("mousewheel scroll",function(){a()}),d.css("height","100%"),2===this.showButton,d.scanDirectives(c),d.find(".dynamicForm").each(function(){new DynamicForm(null,$(this))});var i=!1;"0"==e.content.permanent_navigation&&(i=!0),"2"!==e.content.permanent_navigation&&null!==e.content.permanent_navigation&&"undefined"!=typeof e.content.permanent_navigation&&(g=new NavigationButtons,g.init(c.container,NavigationButtonType[j[e.content.permanent_navigation].toUpperCase()],k()),g.setTop(i),g.onUp=function(){b.scrollTo(-Magazine.pages.height,!0),Magazine.tracker.trackEvent("Scroll","Click","Up")},g.onDown=function(){b.scrollTo(Magazine.pages.height,!0),Magazine.tracker.trackEvent("Scroll","Click","Down")},g.show())},this.setStyleTitle=function(a,b,c){function d(c){void 0!=c&&(e+=c.join("")),void 0!=a.title_background&&(e+=a.title_background.join("")),e.length>0&&b.attr("style",e)}if(void 0!=a){var e="";if(Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE)switch(c){case"subtitle":d(a.subtitle);break;case"paragraph":d(a.paragraph);break;default:d(a.title)}else switch(c){case"subtitle":d(a.m_subtitle);break;case"paragraph":d(a.m_paragraph);break;default:d(a.m_title)}}},this.rowDidDisappear=function(){this.page&&"function"==typeof this.page.rowDidDisappear&&this.page.rowDidDisappear()},this.rowWillAppear=function(){var a,b,c=$(this).children(),d=!1,e=!1,f=!1,g=IntroAnimation.contentType,h=IntroAnimation.textType,i=(IntroAnimation.duration,IntroAnimation.textDelay),j=!1;this.page&&"function"==typeof this.page.rowWillAppear&&this.page.rowWillAppear(),$(this).css("opacity",1),$(this).hasClass("im-bs-cover")?(d=!0,c=$(this).children().find(".im-cl-text-block"),a=c.find(".paragraph").children()):$(this).hasClass("im-bs-block-title")?(c=$(this),a=c.find(".title-align").children()):$(this).hasClass("im-bs-image-text")&&(0!==$(this).find(".im-bs-video").length?(e=!0,c=$(this).children().children(),j=!$(this).children().hasClass("col-left"),1==j?(a=$(this).find(".im-bs-video").children(),g=IntroAnimation.textType,h=IntroAnimation.contentType):a=$(this).find(".im-bs-text").find(".paragraph"),i+=200):0!==$(this).find(".im-bs-img").length&&(Magazine.device.size<=DeviceSize.MOBILE_LANDSCAPE,f=!0,c=$(this).children().children(),j=!$(this).children().hasClass("col-right"),1==j?(a=$(this).find(".im-bs-img").children(),g=IntroAnimation.textType,h=IntroAnimation.contentType):a=$(this).find(".im-bs-text").find(".paragraph"),i+=200)),!this.imParallax.isFirstView()||d===!0&&0===this.page.index||c.each(function(){$(this).startAnimation(g).css(Magazine.device.getCssProperty("animation-delay"),IntroAnimation.contentDelay+"ms").css(Magazine.device.getCssProperty("AnimationDuration"),IntroAnimation.duration).css("opacity",1),b=1==j?$($(this).children().get().reverse()):$(this).children(),b.each(function(b){$(this).startAnimation(g).css(Magazine.device.getCssProperty("animation-delay"),(b+1)*IntroAnimation.contentDelay+"ms").css(Magazine.device.getCssProperty("AnimationDuration"),IntroAnimation.duration).css("opacity",1),0==d&&0==e&&0==f&&(a=$(this).find(".paragraph"),i=IntroAnimation.textDelay),a.startAnimation(h).css(Magazine.device.getCssProperty("animation-delay"),(b+1)*i+"ms").css(Magazine.device.getCssProperty("AnimationDuration"),IntroAnimation.duration).css("opacity",1)})})},this.willLoad=function(){},this.didLoad=function(a){e=a;for(var b in a.content.pages){var c=a.content.pages[b],d=!1;switch(parseInt(c.page_type)){case 3:if(null!=c.columns)for(var g in c.columns)d=new BootstrapText,d.init(c.columns[g],this,parseInt(b)),f.push(d);break;case 1:if(null!=c.text_image)for(var g in c.text_image)d=new BootstrapImageText,0==g&&c.title&&d.setTitle(c.title,c.title_align),d.init(c.text_image[g],this,parseInt(b),c),f.push(d);break;case 4:if(null!=c.videoblock)for(var g in c.videoblock)d=new BootstrapVideo,0==g&&c.title&&d.setTitle(c.title,c.title_align),d.init(c.videoblock[g],this,parseInt(b),c),f.push(d);break;case 2:null!=c.contacts&&(d=new BootstrapThumbs,c.title&&d.setTitle(c.title,c.title_align),d.init(c,this,parseInt(b),c),f.push(d));break;case 5:d=new BootstrapFullscreenText,d.init(c,this,parseInt(b)),f.push(d);break;case 6:d=new BootstrapMaps,d.init(c,this,parseInt(b)),f.push(d);break;case 7:d=new BootstrapTitle,d.init(c,this,parseInt(b)),f.push(d);break;case 8:null!=c.quotes&&(d=new BootstrapQuotes,d.init(c,this,parseInt(b),c),f.push(d));break;default:null!=c.cover&&(d=new BootstrapCover,d.init(c,this,parseInt(b)),f.push(d))}}},this.didAppear=function(b){a();for(var c in f)$.isFunction(f[c].didAppear)&&f[c].didAppear();null!==g&&g.show()},this.willAppear=function(b){if(c.isFirstView())for(var d=0;d<f.length;d++)$.isFunction(f[d].pageFirstAppear)&&f[d].pageFirstAppear();a();for(var e in f)$.isFunction(f[e].willAppear)&&f[e].willAppear()},this.onHashChange=function(a){"undefined"!=typeof a.item&&this.scrollTo($("[name=bs-p-"+a.item+"]",c.container),!0)},this.onSwitchSize=function(a,b){for(var c in f)$.isFunction(f[c].onSwitchSize)&&f[c].onSwitchSize(a,b)},this.onResizeHandler=function(a){for(var b in f)f[b].onResizeHandler(a)},this.onEndResizeHandler=function(a){for(var b in f)"function"==typeof f[b].onEndResizeHandler&&f[b].onEndResizeHandler(a)},this.willDisappear=function(){for(var a in f)$.isFunction(f[a].willDisappear)&&f[a].willDisappear()},this.render=function(a){for(var b=0;b<a.pages.length;b++)if(a.pages[b].label){a.navigationLabel=a.pages[b].label;break}},this.didDisappear=function(){},this.destroy=function(){},this.scrollTo=function(b,c){"undefined"==typeof c&&(c=!0);var e,f={y:d.scrollTop()};e=isNaN(b)?d.scrollTop()+b.offset().top-Magazine.pages.offset.top:d.scrollTop()+b,c?TweenLite.to(f,1.2,{y:e,ease:"easeInOutCubic",onUpdate:function(){d.scrollTop(f.y),a()}}):d.scrollTop(f.y)}}function BootstrapFullscreenText(){var a,b,c,d,e,f,g=null,h=!0,i=500,j=!1,k=!1,l=null;this.init=function(a,g,h){c=$("<div class='opacity im-bs-cover im-bs-full-text' name='bs-p-"+h+'\' im-will-appear="rowWillAppear" im-did-disappear="rowDidDisappear"></div>'),c[0].page=this,d=a,this.index=f=h,e=g,b=new TextBlock,b.init(),b.order=["subtitle","title","description","button"],b.setTitle(d.title),b.setSubtitle(d.subtitle),b.setDescription(d.description),d.read_more_button&&b.setButton(Translate.getLabel("btn_more"),function(a){a.preventDefault(),Magazine.tracker.trackEvent("Scroll","Click","Down"),g.scrollTo(c.next())}),Magazine.device.size<=DeviceSize.MOBILE_LANDSCAPE?(b.setPosition("4 4"),b.setSize("96%")):(b.setPosition(d.margin),b.setSize(i)),b.setStyle(d.fullscreen_style),b.appendTo(c),"undefined"!=typeof g&&0===h&&"string"!=typeof a.label&&(a.label=Translate.getLabel("btn_scroll")),l=new ImParallaxDirective,l.init(c,e)},this.onScroll=function(){l.onScroll()},this.rowWillAppear=function(){a&&a.pageWillAppear(),h||$(this).find($(g)).startAnimation("fadeInUp").css(Magazine.device.getCssProperty("animation-delay"),"600ms")},this.rowDidDisappear=function(){a&&a.pageDidDisappear()},this.onResizeHandler=function(d){if(d.size<=DeviceSize.MOBILE_LANDSCAPE&&null!==b){var e=b.height();e+40>Magazine.pages.height?(j=!0,c.height(e+40)):(c.css("height",""),j=!1)}a&&a.onEndResizeHandler(d)},this.onSwitchSize=function(e,f){e.size<=DeviceSize.MOBILE_LANDSCAPE?(b.setPosition("4 4"),"undefined"!=typeof d.fullscreen_style&&null!==d.fullscreen_style&&a.setOverlayStyle(d.fullscreen_style.mobile_background_overlay),b.setSize("96%")):(b.setPosition(d.margin),b.setSize(i),a.setOverlayStyle(""),j&&(c.css("height",""),j=!1)),b.onSwitchSize(e)},this.afterRendering=function(){b.afterRendering(),this.onResizeHandler(Magazine.device),d.background&&(a=new Background,Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE?a.init([d.background]):d.alt?a.init([d.alt]):a.init([d.background]),c.prepend(a.render()),a.show(),Magazine.device.size<=DeviceSize.MOBILE_LANDSCAPE?"undefined"!=typeof d.fullscreen_style&&null!==d.fullscreen_style&&a.setOverlayStyle(d.fullscreen_style.mobile_background_overlay):a.setOverlayStyle(""))},this.willAppear=function(){"undefined"!=typeof a&&(a.pageWillAppear(),k=!0)},this.didAppear=function(){},this.willDisappear=function(){"undefined"!=typeof a&&a.pageDidDisappear()},this.render=function(){return c}}function BootstrapCover(){var a,b,c,d,e,f=!0,g=null,h=null;this.init=function(g,i,j){a=$("<div class='opacity im-bs-cover im-bs-cover-height-"+g.height+"' name='bs-p-"+j+'\' im-will-appear="rowWillAppear" im-did-disappear="rowDidDisappear"></div>'),b=new ImageCarousel,a[0].page=this,c=g,e=i,this.index=d=j;for(var k in g.cover){var l=g.cover[k],m=new ImageCarouselImage;m.init(l.background);var n,o,p=[],q=[];if(null!=l.style){var r=new StyleModel(l.style);p=r.get(["line_1_font","line_1_bg"]),n=r.get(["line_1_mobile_font"]),q=r.get(["line_2_font","line_2_bg"]),o=r.get(["line_2_mobile_font"])}l.title_1&&"undefined"!=typeof l.title_1&&m.setTitle(l.title_1,p,n),l.title_2&&"undefined"!=typeof l.title_2&&m.setSubtitle(l.title_2,q,o),Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE?null!=l.position&&m.setPosition(l.position.split(" ")):m.setPosition("0px","20px"),b.addImage(m)}a.append(b.render()),"undefined"!=typeof i&&0===j&&"string"!=typeof g.label&&(g.label=Translate.getLabel("btn_scroll")),b.onResizeHandler(),b.showImage(0),f=!1,h=new ImParallaxDirective,h.init(a,e)},this.didAppear=function(){b&&b.startTimer()},this.willDisappear=function(){b&&b.stopTimer()},this.rowDidDisappear=function(){$(this).find($(g)).startAnimation("fadeOut"),b&&b.stopTimer()},this.onScroll=function(){h.onScroll()},this.rowWillAppear=function(){f||$(this).find($(g)).startAnimation("fadeInUp").css(Magazine.device.getCssProperty("animation-delay"),"600ms"),b&&b.startTimer()},this.render=function(){return b.onResizeHandler(Magazine.device),a},this.onSwitchSize=function(a,e){if(a.size<=DeviceSize.MOBILE_LANDSCAPE){for(var f in c.cover)b.getImage(f).setPosition("0px","20px");0==c.page_type&&0==d&&$(".im-image-carousel-indicators").css({"text-align":"right",right:"20px"})}else{for(var f in c.cover){var g=c.cover[f];null!=g.position?b.getImage(f).setPosition(g.position.split(" ")):b.getImage(f).setPosition()}0==c.page_type&&0==d&&$(".im-image-carousel-indicators").css({"text-align":"center",right:"0px"})}(a.size<=DeviceSize.MOBILE_LANDSCAPE&&e>DeviceSize.MOBILE_LANDSCAPE||a.size>DeviceSize.MOBILE_LANDSCAPE&&e<=DeviceSize.MOBILE_LANDSCAPE)&&setTimeout(function(){b.reset()},500)},this.onResizeHandler=function(a){b.onResizeHandler(a)},this.onEndResizeHandler=function(a){b.onEndResizeHandler(a)}}function BootstrapImageText(){var a,b,c,d,e,f,g,h,i=Hogan.compile("<div class='opacity im-bs-img'><img src='{{helper(getImageUrl, {image.uri}, null, null, 600, null, 0)}}'{{#image.alt}} alt='{{image.alt}}'{{/image.alt}} /></div>"),j=Hogan.compile("<div class='opacity im-bs-text'><div class='paragraph' im-object='im-style-directive' data-style='{{paragraph_style}}' data-mobile-style='{{mobile_paragraph_style}}'>{{#title}}<h2 class='im-ts-border-radius' im-object='im-style-directive' data-style='{{title_style}}' data-mobile-style='{{mobile_title_style}}'>{{{title}}}</h2>{{/title}}{{#subtitle}}<br /><h3 class='im-ts-border-radius'  im-object='im-style-directive' data-style='{{subtitle_style}}' data-mobile-style='{{mobile_subtitle_style}}'>{{{subtitle}}}</h3>{{/subtitle}}{{{description}}}</div></div>"),k=null;this.container,this.init=function(c,f,g,l){d=f,h=l,this.index=g,this.setData(c),this.container=$("<div class='opacity im-bs-image-text' name='bs-p-"+g+'\' im-will-appear="rowWillAppear"></div>'),this.container[0].page=this;var m=$("<div class='col-grid col-2'></div>");this.container.append(m);var n=new StyleModel(c.style);c.title_style=n.get(["title_background","title"]),c.subtitle_style=n.get(["subtitle_background","subtitle"]),c.paragraph_style=n.get(["paragraph","link"]),c.mobile_title_style=n.get(["m_title"]),c.mobile_subtitle_style=n.get(["m_subtitle"]),c.mobile_paragraph_style=n.get(["m_paragraph"]),"right"==c.image_right?(a=$(j.render(c)),b=$(i.render(c)),m.append(a),m.append(b)):(b=$(j.render(c)),a=$(i.render(c)),m.append(b),m.append(a),m.addClass("col-right")),null!=c.style&&"undefined"!=typeof c.style.background&&this.container.attr("style",c.style.background.join("")),"undefined"!=typeof e&&this.container.prepend(e),this.container.find(".dynamicForm").each(function(){new DynamicForm(null,$(this))}),k=new ImParallaxDirective,k.init(this.container,d)},this.onScroll=function(){k.onScroll()},this.rowWillAppear=function(){},this.rowDidDisappear=function(){},this.setTitle=function(a,b){null!==b&&void 0!==b||(b="center"),e="object"==typeof a?a:$("<div class='title-align align-"+b+"'><h1 class='im-ts-title-background im-bs-text-center'>"+a+"</h1></div>")},this.getTitle=function(){return e},this.setData=function(a){c=a},this.getData=function(){return c},this.render=function(){return this.container},this.afterRendering=function(){"undefined"!=typeof e&&this.container.prepend(e),this.container.find("h2, h3").each(function(){$(this).hasTransparentBackground()||$(this).css({padding:"5px 16px","margin-bottom":"20px"})}),"undefined"==typeof f&&(f=$(this.container.find(".paragraph p")[0]).css("text-align")||"left"),this.container.find(".paragraph p").css("text-align",""),Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE?this.container.find(".paragraph").css("text-align",f):"right"==f&&this.container.find(".paragraph").css("text-align","left"),g=f,e&&d.setStyleTitle(h.style_title,e.find(".im-ts-title-background"))},this.onSwitchSize=function(a){"undefined"==typeof f&&(f=$(this.container.find(".paragraph p")[0]).css("text-align")),a.size>DeviceSize.MOBILE_LANDSCAPE?this.container.find(".paragraph").css("text-align",g):"right"==f&&this.container.find(".paragraph").css("text-align","left"),e&&d.setStyleTitle(h.style_title,e.find(".im-ts-title-background"))},this.onResizeHandler=function(a){},this.setColumnLeft=function(b){a=b},this.setColumnRight=function(a){b=a}}function BootstrapThumbs(){var a,b,c,d,e=Hogan.compile("<{{action.element}} href=\"{{action.href}}\" onclick=\"{{action.onclick}}\"  target=\"{{action.target}}\"><div class='im-bs-thumb'>{{#image}}<div class='im-bs-img'><img src='{{helper(getImageUrl, {image.uri}, null, null, 400, null, 0)}}'{{#image.alt}} alt='{{image.alt}}'{{/image.alt}} /></div>{{/image}}<div class='im-bs-text'><div class='paragraph' im-object='im-style-directive' data-style='{{paragraph_style}}' data-mobile-style='{{mobile_paragraph_style}}'><h3 im-object='im-style-directive' data-style='{{title_style}}' data-mobile-style='{{mobile_title_style}}'>{{{name}}}</h3><h4 im-object='im-style-directive' data-style='{{subtitle_style}}' data-mobile-style='{{mobile_subtitle_style}}'>{{{function}}}</h4>{{{description}}}</div></div></div></{{action.element}}>"),f=null;this.init=function(g,h,i,j){c=h,d=j;var k=$("<div class='col-grid col-"+g.contacts.length+(2!=g.image_style?" small":"")+"'></div>");this.index=i,a=$("<div class='opacity im-bs-thumbs' name='bs-p-"+i+'\' im-will-appear="rowWillAppear"></div>'),a.append(k),a[0].page=this,g.style_thumbnail&&"undefined"!=typeof g.style_thumbnail.background&&a.attr("style",g.style_thumbnail.background.join("")),"undefined"!=typeof b&&a.prepend(b),b&&c.setStyleTitle(j.style_thumbnail,b.find(".im-ts-title-background"));for(var l in g.contacts){var m=new StyleModel(g.contacts[l].style);g.contacts[l].title_style=m.get(["title"]),g.contacts[l].subtitle_style=m.get(["subtitle"]),g.contacts[l].paragraph_style=m.get(["paragraph"]),g.contacts[l].mobile_title_style=m.get(["m_title"]),g.contacts[l].mobile_subtitle_style=m.get(["m_subtitle"]),g.contacts[l].mobile_paragraph_style=m.get(["m_paragraph"]),g.contacts[l].action=new ActionModel(g.contacts[l].action),k.append(e.render(g.contacts[l]))}1==g.image_style?k.find("img").addClass("round"):k.find("img").removeClass("round"),f=new ImParallaxDirective,f.init(a,c)},this.onScroll=function(){f.onScroll()},this.rowWillAppear=function(){},this.setTitle=function(a,c){null!==c&&void 0!==c||(c="center"),b="object"==typeof a?a:$("<div class='title-align align-"+c+"'><h1 class='im-ts-title-background im-bs-text-center'>"+a+"</h1></div>")},this.render=function(){return a},this.onResizeHandler=function(a){},this.onSwitchSize=function(a){b&&c.setStyleTitle(d.style_thumbnail,b.find(".im-ts-title-background"))}}function BootstrapQuotes(){var a,b,c,d,e,f,g=Hogan.compile('<div class="im-bs-text"><div class="paragraph align-{{title_align}}"><h2 class="im-ts-title" im-object="im-style-directive" data-style="{{title_style}}" data-mobile-style="{{mobile_title_style}}"><div class="im-bs-quote-symbol">&quot;</div>{{{title}}}</h2><div class="inner-paragraph"  im-object="im-style-directive" data-style="{{paragraph_style}}" data-mobile-style="{{mobile_paragraph_style}}">{{{description}}}</div>{{#line}}<div class="line-separator"><div class="{{line}} im-bs-text-center"></div></div>{{/line}}<div class="im-bs-quote-container"><div class="im-bs-quote">{{#image}}<div class="im-bs-img"><img src="{{helper(getImageUrl, {image.uri}, null, null, 400, null, 0)}}"{{#image.alt}} alt="{{image.alt}}"{{/image.alt}} /></div>{{/image}}<h3 im-object="im-style-directive" data-style="{{name_style}}" data-mobile-style="{{mobile_name_style}}">{{{name}}}</h3><h4 im-object="im-style-directive" data-style="{{tagline_style}}" data-mobile-style="{{mobile_tagline_style}}">{{{function}}}</h4></div></div></div></div>'),h=null;this.init=function(c,i,j,k){d=i,e=k,c.quotes=c.quotes||[{}];var l=$('<div class="title-align"></div>');this.index=j,a=$('<div class="opacity im-bs-quotes" name="bs-p-'+j+'" im-will-appear="rowWillAppear"></div>'),a.append(l),a[0].page=this,c.style_quote&&"undefined"!=typeof c.style_quote.background&&a.attr("style",c.style_quote.background.join("")),"undefined"!=typeof b&&a.prepend(b),b&&d.setStyleTitle(c.quotes[0].style,b.find(".im-ts-title-background")),c.background&&(f=new Background,f.init([c.background]),a.append(f.render()),f.show());for(var m in c.quotes){var n=new StyleModel(c.quotes[m].style);c.quotes[m].title_style=n.get(["title","title_background"]),c.quotes[m].paragraph_style=n.get(["paragraph","paragraph_background"]),c.quotes[m].mobile_title_style=n.get(["m_title"]),c.quotes[m].mobile_paragraph_style=n.get(["m_paragraph"]),c.quotes[m].name_style=n.get(["name","name_background"]),c.quotes[m].mobile_name_style=n.get(["m_name"]),c.quotes[m].tagline_style=n.get(["tagline","tagline_background"]),c.quotes[m].mobile_tagline_style=n.get(["m_tagline"]),c.quotes[m].line_style=n.get(["line_color"]),l.append(g.render(c.quotes[m]))}l.find(".im-bs-quote").each(function(){c.quotes[0].description&&$(this).parent().parent().parent().find(".quote-text .paragraph").html(c.quotes[0].description)}),1==c.quotes[0].quote_style?l.find("img").addClass("round"):l.find("img").removeClass("round"),h=new ImParallaxDirective,h.init(a,d)},this.getParagraph=function(){return c},this.onScroll=function(){h.onScroll()},this.rowWillAppear=function(){f&&f.pageWillAppear()},this.rowDidDisappear=function(){f&&f.pageDidDisappear()},this.render=function(){return a},this.onResizeHandler=function(a){},this.onSwitchSize=function(a){b&&d.setStyleTitle(e.style_quote,b.find(".im-ts-title-background"))}}var BootstrapVideo=function(){var a,b,c,d,e,f=null,g=!1,h=Hogan.compile("<div class='opacity im-bs-video'>{{^has_description}}{{#title}}<div class='video-title'><h2 class='im-ts-border-radius' style='{{title_style}}'>{{{title}}}</h2>{{#subtitle}}<br /><h3 class='im-ts-border-radius' style='{{subtitle_style}}'>{{{subtitle}}}</h3>{{/subtitle}}</div>{{/title}}{{/has_description}}<div class='im-ts-videocontainer' data-video-id='{{youtube}}' ></div></div>"),i=Hogan.compile("<div class='opacity im-bs-text'><div class='paragraph' im-object='im-style-directive' data-style='{{paragraph_style}}' data-mobile-style='{{mobile_paragraph_style}}'>{{#title}}<h2 class='im-ts-border-radius' im-object='im-style-directive' data-style='{{title_style}}' data-mobile-style='{{mobile_title_style}}'>{{{title}}}</h2>{{/title}}{{#subtitle}}<br /><h3 class='im-ts-border-radius'  im-object='im-style-directive' data-style='{{subtitle_style}}' data-mobile-style='{{mobile_subtitle_style}}'>{{{subtitle}}}</h3>{{/subtitle}}{{{description}}}</div></div>"),j=null;return $.extend(new BootstrapImageText,{init:function(f,k,l,m){a=k,d=m,this.setData(f);var n,o;this.index=l,this.container=$("<div class='opacity im-bs-image-text' name='bs-p-"+l+'\' im-will-appear="rowWillAppear" im-did-disappear="rowDidDisappear"></div>'),this.container[0].page=this,f.description||f.title||f.subtitle?(n=$("<div class='col-grid col-2'></div>"),f.has_description=!0):(n=$("<div class='title-align align-center'></div>"),f.has_description=!1),this.container.append(n),this.container.addClass("im-bs-text-block");var p=new StyleModel(f.style);f.title_style=p.get(["title_background","title"]),f.subtitle_style=p.get(["subtitle_background","subtitle"]),f.paragraph_style=p.get(["paragraph","link"]),f.mobile_title_style=p.get(["m_title"]),f.mobile_subtitle_style=p.get(["m_subtitle"]),f.mobile_paragraph_style=p.get(["m_paragraph"]),f.has_description===!1?(e=$(h.render(f)),this.container.css("padding","0"),g=!0,n.append(e)):"right"===f.image_right?(o=$(i.render(f)),e=$(h.render(f)),n.append(o),n.append(e)):(o=$(i.render(f)),e=$(h.render(f)),n.append(e),n.append(o),n.addClass("col-left")),"undefined"!=typeof b&&this.container.prepend(b),"undefined"!=typeof c&&this.container.prepend(c),null!=f.style&&"undefined"!=typeof f.style.background&&this.container.attr("style",f.style.background.join("")),this.container.find(".dynamicForm").each(function(){new DynamicForm(null,$(this))}),j=new ImParallaxDirective,j.init(this.container,a)},setTitle:function(a,c){null!==c&&void 0!==c||(c="center"),b="object"==typeof a?a:$("<div class='title-align align-"+c+"'><h1 class='im-ts-title-background im-bs-text-center'>"+a+"</h1></div>")},getTitle:function(){return b},afterRendering:function(){f=new Video(e.children(".im-ts-videocontainer")),"undefined"!=typeof b&&this.container.prepend(b),b&&a.setStyleTitle(d.style_title,b.find(".im-ts-title-background"))},onSwitchSize:function(){b&&a.setStyleTitle(d.style_title,b.find(".im-ts-title-background"))},onScroll:function(){j.onScroll()},rowWillAppear:function(){},rowDidDisappear:function(){f&&f.pause()},willDisappear:function(){f&&f.stop()},willAppear:function(){f&&f.reset()},onResizeHandler:function(a){}})},BootstrapText=function(){var a,b,c,d=null;return $.extend(new BootstrapImageText,{init:function(b,c,e){this.setData(b);var f,g,h,i=new StyleModel(b.style);a=c,this.index=e,this.container=$('<div class="opacity im-bs-textblock" name="bs-p-'+e+'" im-will-appear="rowWillAppear" im-did-disappear="rowDidDisappear"></div>'),this.container[0].page=this,h=b.column_2?$('<div class="col-grid col-2"></div>'):$('<div class="title-align"></div>'),this.container.append(h),this.container.addClass("im-bs-text-block"),b.column_1&&(g=$('<div class="im-bs-text"><div class="paragraph col-l" im-object="im-style-directive" data-mobile-style="'+i.get(["m_paragraph"])+'" style="'+i.get(["paragraph"])+'">'+b.column_1+"</div></div>"),h.append(g),this.setColumnLeft(g)),b.column_2?(f=$('<div class="im-bs-text"><div class="paragraph col-r" im-object="im-style-directive" data-mobile-style="'+i.get(["m_paragraph"])+'" style="'+i.get(["paragraph"])+'">'+b.column_2+"</div></div>"),h.append(f),this.setColumnRight(f)):g&&g.addClass("im-bs-text-center"),b.title&&this.setTitle(b.title,b.title_align),this.container.find(".dynamicForm").each(function(){new DynamicForm(null,$(this))}),d=new ImParallaxDirective,d.init(this.container,a)},afterRendering:function(){var d=this.getData(),e=this.getTitle();if("undefined"!=typeof e&&this.container.prepend(e),null!=d.style){"undefined"!=typeof d.style.background&&this.container.attr("style",d.style.background.join(""));var f="";"undefined"!=typeof d.style.title_background&&(f+=d.style.title_background.join("")),"undefined"!=typeof d.style.title&&(f+=d.style.title.join("")),f.length>0&&this.container.find("h1.im-bs-text-center").attr("style",f)}this.container.find("h1").each(function(){$(this).hasTransparentBackground()&&$(this).css({padding:"0px","margin-bottom":"5px"})}),d.title&&a.setStyleTitle(d.style,this.container.find(".im-ts-title-background")),"undefined"==typeof b&&(b=$(this.container.find(".paragraph p")[0]).css("text-align")),Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE?this.container.find(".paragraph").css("text-align",b):"right"==b&&this.container.find(".paragraph").css("text-align","left").children("p").css("text-align","left"),c=b},onSwitchSize:function(d){var e=(this.getTitle(),this.getData());"undefined"==typeof b&&(b=$(this.container.find(".paragraph p")[0]).css("text-align")),d.size>DeviceSize.MOBILE_LANDSCAPE?this.container.find(".paragraph").css("text-align",c).children("p").css("text-align",c):"right"==b&&this.container.find(".paragraph").css("text-align","left").children("p").css("text-align","left"),e&&a.setStyleTitle(e.style,this.container.find(".im-ts-title-background"))},onScroll:function(){d.onScroll()},rowWillAppear:function(){}})},BootstrapTitle=function(){var a,b,c,d,e,f,g,h=null;return $.extend(new BootstrapImageText,{init:function(c,d,e){this.setData(c);var f;a=d,this.index=e,this.container=$("<div class='opacity im-bs-textblock im-bs-block-title' name='bs-p-"+e+'\'im-will-appear="rowWillAppear" im-did-disappear="rowDidDisappear"></div>'),this.container[0].page=this,f=$('<div class="title-align align-center"></div>'),this.container.append(f),c.title&&this.setTitle(c.title,c.title_align),c.subtitle&&this.setSubTitle(c.subtitle,c.title_align),c.description&&this.setParagraph(c.description,c.title_align),c.background&&(b=new Background,b.init([c.background]),this.container.append(b.render()),b.show()),c.line&&this.setLine(c.title_align,c.line.split("_").join("-")),this.container.find(".dynamicForm").each(function(){new DynamicForm(null,$(this))}),h=new ImParallaxDirective,h.init(this.container,a)},afterRendering:function(){function a(a,b){for(var c=0;c<a.length;c++)"undefined"!=typeof a[c]&&b.append(a[c])}function b(a,b,c,d){"undefined"!=typeof b&&""!==b?a+=b.join(""):(b=["background: transparent;"],a=b),"undefined"!=typeof c&&(a+=c.join("")),a.length>0&&d.attr("style",a)}var c=this.getData(),d=this.getTitle(),e=this.getSubTitle(),h=this.getParagraph(),i=this.getLine();a([e,d,i,h],this.container),null!=c.style_line&&("undefined"==typeof c.style_line.background||c.background||this.container.attr("style",c.style_line.background.join("")),b("",c.style_line.title_background,c.style_line.title,this.container.find("h1.im-bs-text-center")),b("",c.style_line.subtitle_background,c.style_line.subtitle,this.container.find("h3.im-bs-text-center")),b("",c.style_line.paragraph_background,c.style_line.paragraph,this.container.find(".paragraph.im-bs-text-center")),"undefined"!=typeof c.style_line.line_color&&this.container.find(".line-separator div").attr("style",c.style_line.line_color.join(""))),this.container.find("h1, h3, .paragraph").each(function(){$(this).hasTransparentBackground()&&$(this).css({padding:"0",margin:"0 0 5px 0"})}),"undefined"==typeof f&&(f=$(this.container.find(".paragraph p")[0]).css("text-align")),Magazine.device.size>DeviceSize.MOBILE_LANDSCAPE?this.container.find(".paragraph").css("text-align",f):"right"==f&&this.container.find(".paragraph").css("text-align","left").children("p").css("text-align","left"),g=f},getSubTitle:function(){return c},getParagraph:function(){return d},getLine:function(){return e},setSubTitle:function(a,b){null!==b&&void 0!==b||(b="center"),c="object"==typeof a?a:$("<div class='title-align align-"+b+"'><h3 class='im-ts-subtitle-background im-bs-text-center'>"+a+"</h3></div>")},setParagraph:function(a,b){null!==b&&void 0!==b||(b="center"),d="object"==typeof a?a:$("<div class='title-align align-"+b+"'><h3 class='paragraph im-bs-text-center'>"+a+"</h3></div>")},setLine:function(a,b){null!==a&&void 0!==a||(a="center"),e="object"==typeof line?line:$('<div class="line-separator title-align align-'+a+'"><div class="'+b+' im-bs-text-center"></div></div>')},onSwitchSize:function(a){"undefined"==typeof f&&(f=$(this.container.find(".paragraph p")[0]).css("text-align")),a.size>DeviceSize.MOBILE_LANDSCAPE?this.container.find(".paragraph").css("text-align",g).children("p").css("text-align",g):"right"==f&&this.container.find(".paragraph").css("text-align","left").children("p").css("text-align","left")},onScroll:function(){h.onScroll()},rowWillAppear:function(){b&&b.pageWillAppear()},rowDidDisappear:function(){b&&b.pageDidDisappear()}})},BootstrapMaps=function(){var a,b,c,d,e=null;this.init=function(b,c,d){this.setData(b);var f=(new StyleModel(b.style),c);this.index=d,a=$('<div class="opacity im-bs-maps" name="bs-p-'+d+'"im-will-appear="rowWillAppear" im-did-disappear="rowDidDisappear"></div>'),a[0].page=this,e=new ImParallaxDirective,e.init(a,f)},this.pageFirstAppear=function(){d=new GoogleMaps(c.key),a.append(d.getView()),d.setHeight(c.map_height);var b=GoogleMaps.getMapDataByUrl(c.maps);d.init({coordinates:b,zoom:b.zoom}),d.addMarker({coordinates:b,action:c.action,image:c.image,animation:c.check})},this.onScroll=function(){e.onScroll()},this.rowWillAppear=function(){},this.setData=function(a){c=a},this.render=function(){return a},this.getData=function(){return c},this.getTitle=function(){return b},this.onResizeHandler=function(a){d&&d.onResizeHandler(a)}};Loader.loadComplete();